"use strict";(self.webpackChunkmy_gatsby_project=self.webpackChunkmy_gatsby_project||[]).push([[853],{1646:function(e,t,o){o.r(t),o.d(t,{meta:function(){return l},_frontmatter:function(){return d},default:function(){return m}});var n=o(3366),a=(o(7294),o(4983)),r=o(1963),i=["components"],l={name:"Android Root",date:new Date("2021-08-10")},d={},s={meta:l,_frontmatter:d},p=r.Z;function m(e){var t=e.components,o=(0,n.Z)(e,i);return(0,a.kt)(p,Object.assign({},s,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",null,"Unlocking the boot loader"),(0,a.kt)("p",null,"Credit where credit is due I followed the following ",(0,a.kt)("a",{parentName:"p",href:"https://youtu.be/UVKUDZSyjW4"},"guide")," on youtube. You're going to need a laptop where you can download some tools (android tools). So first things first on my phone I "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Enabled developer tools by clicking the kernel version 10 times or something"),(0,a.kt)("li",{parentName:"ul"},"Enabled OEM unlocking  and USB debugging in Developer options"),(0,a.kt)("li",{parentName:"ul"},"Plugged in to my computer"),(0,a.kt)("li",{parentName:"ul"},"Turned off my phone and restarted it in fastboot mode (it'll go to a weird technical looking screen and wait). To restart in fastboot mode, hold down the power button and the volume down button.")),(0,a.kt)("p",null,"During this time on my computer I didn't need to install any ",(0,a.kt)("a",{parentName:"p",href:"https://motorola-global-portal.custhelp.com/app/answers/detail/a_id/88481"},"motorolla drivers")," as I'm on Linux. Instead I installed the ",(0,a.kt)("a",{parentName:"p",href:"https://developer.android.com/studio/releases/platform-tools"},"platform tools")," from Android Studio to use adb and fastboot. I also went to the ",(0,a.kt)("a",{parentName:"p",href:"https://motorola-global-portal.custhelp.com/app/standalone%2Fbootloader%2Funlock-your-device-a"},"motorola website")," to get the code to unlock my bootloader. During this process I tried to check my device was connected properly with the command ",(0,a.kt)("inlineCode",{parentName:"p"},"fastpath devices")," but it didn't work and so I had to follow the instructions on ",(0,a.kt)("a",{parentName:"p",href:"https://developer.android.com/studio/run/device"},"android.com")," to add my user to the plugdev group to run the fastboot executable."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo usermod -aG plugdev $LOGNAME\n")),(0,a.kt)("p",null,"Adding myself to the new user group required a relog so I did that. I also installed the android-sdk-platform-tools-common package for the udev rules. I'm not sure if this was necessary but I did it anyway."),(0,a.kt)("p",null,"Next I ran"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./fastboot oem get_unlock_data\n")),(0,a.kt)("p",null,"and then formatted and pasted the data into the ",(0,a.kt)("a",{parentName:"p",href:"https://motorola-global-portal.custhelp.com/app/standalone%2Fbootloader%2Funlock-your-device-b"},"motorola website"),". To begin with it didn't work, until I registered my device with Motorolla via the same website."),(0,a.kt)("p",null,"After receiving the code via email. I ran the following command twice with ",(0,a.kt)("inlineCode",{parentName:"p"},"UNIQUE_KEY")," replaced with my actual key."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"fastboot oem unlock UNIQUE_KEY\n")),(0,a.kt)("p",null,"And that was the bootloader unlocked!"),(0,a.kt)("h1",null,"Download Magisk"),(0,a.kt)("p",null,"I went to the magisk site and downloaded the apk and installed it to my phone. I then tried to patch/flash the rom/os (not sure what the technical name for it is) from within the app by downloading the .zip. That didn't work so I downloaded an image from ",(0,a.kt)("a",{parentName:"p",href:"https://twrp.me/Devices/"},"TWRP")," for my motorolla g5 and flashed it onto the device with the following commands"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./adb reboot bootloader\n./fastboot flash recover twrp-3.1.1.img\n./fastboot boot twrp-3.1.1.1.img\n")),(0,a.kt)("p",null,"Then I used twrp to flash the magisk zip. That worked and then I went into Magisk and installed it fully. I hide it from pokemon go and installed a gps spoofing app. (Specifically ",(0,a.kt)("a",{parentName:"p",href:"https://play.google.com/store/apps/details?id=com.theappninjas.fakegpsjoystick"},"Fake GPS Location - GPS JoyStick"),". I also followed the in-app instructions to side-load a modified version of the app)"),(0,a.kt)("h1",null,"Hide mocking location"),(0,a.kt)("p",null,"From there I losely followed the tutorial here on xda-developers ",(0,a.kt)("a",{parentName:"p",href:"https://www.xda-developers.com/how-to-fake-location-android-gps-spoofing/"},"https://www.xda-developers.com/how-to-fake-location-android-gps-spoofing/"),", doing the parts I hadn't yet done. I installed the Storage Isolation app, enabled storage isolation on the GPS spoofing app and then installed Smali. I dual-booted into my windows box to use the Smali Patcher and once I generated the zip I copied it on to my android device. From there I flashed it with Twrp again. I launched into twrp by using the command ",(0,a.kt)("inlineCode",{parentName:"p"},"./adb reboot recovery")," on my linux machine again."),(0,a.kt)("p",null,"I kept having troubles with my player rubber-banding (jumping from the spoofed location to my actual location). I was very confused as to why this was happening, and I finally figured out that you don't need to use the 'Indirect Mocking' feature, which was causing the rubber-banding."),(0,a.kt)("h1",null,"Adding GPS Routes"),(0,a.kt)("p",null,"From there I grabbed a gpx route for my GPS app so that I had an automatically planned walk. I used the site ",(0,a.kt)("a",{parentName:"p",href:"https://coords.heber.com.br/en/gpx"},"https://coords.heber.com.br/en/gpx")," to grab one. I also believe the site ",(0,a.kt)("a",{parentName:"p",href:"https://pogo.arspoofing.com"},"https://pogo.arspoofing.com")," is helpful to find specific pokemon which is what I use the spoofed GPS for."))}m.isMDXComponent=!0},5602:function(e,t,o){var n=o(7294);t.Z=function(e){return n.createElement("section",{id:"banner",className:"style2"},n.createElement("div",{className:"inner"},n.createElement("header",{className:"major"},n.createElement("h1",null,"Moatomt")),n.createElement("div",{className:"content"},n.createElement("p",null,"Built with Gatsby (which uses react) and a site template by HTML5UP. This site is compiled into static pages and served via Github Pages"))))}},1963:function(e,t,o){var n=o(1721),a=o(7294),r=o(5414),i=o(114),l=o(5602),d=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){return a.createElement(i.Z,null,a.createElement(r.Z,{title:this.props.meta.name+" - Moatomt",meta:[{name:"description",content:"Welcome to my blog where I document my learning"},{name:"keywords",content:"Moatomt, Blog, Bible Studies"}]}),a.createElement(l.Z,null),a.createElement("div",{id:"main"},a.createElement("section",{id:"one"},a.createElement("div",{className:"inner"},a.createElement("header",{className:"major"},a.createElement("h1",null,this.props.meta.name)),this.props.children))))},t}(a.Component);t.Z=d},3366:function(e,t,o){function n(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}o.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=component---src-pages-blog-development-android-root-mdx-22a2b338dc3df404599c.js.map